doctype html
html(lang='en')
  head
    title=Player + ' - ' + DateStr
    link(rel='stylesheet', href='//cdn.jsdelivr.net/jquery.datatables/1.10.0/css/jquery.dataTables.min.css')
    link(rel='stylesheet', href='//cdn.jsdelivr.net/jquery.datatables/1.10.0/plugins/tabletools/css/dataTables.tableTools.min.css')
    link(rel='stylesheet', href='//cdn.jsdelivr.net/jquery.datatables/1.10.1/plugins/fixedcolumns/css/dataTables.fixedColumns.min.css')
    link(rel='stylesheet', href='http://yui.yahooapis.com/pure/0.5.0/pure-min.css')  
    link(rel='stylesheet', href='/css/main.css')
  body
    .container
      h1 Europa Universalis IV Savegame Stats
      span This page was generated on 
      p
        | This page was automatically generated by uploading a savegame to
        a(href='/') EU4 Savegame Stats
      p
        | Players:
        =Players

      h2 World Statistics
      table.pure-table.pure-table-striped
        thead
          tr
            th Statistics
            th Value
        tbody
          tr
            td Manpower
            td= _.numberFormat(Manpower, 0)
          tr
            td Potential Manpower
            td= _.numberFormat(PotentialManpower, 0)

      h2 Trade Power
      table.pure-table.pure-table-striped.sort-table
        thead
          tr
            th Country
            th Power
            th Ship Power
            th Province Power
            th Light Ships
            th Money
            th Total
        tbody
          each x in TradePower
            tr
              td= x.country
              td= _.numberFormat(x.power, 3)
              td= _.numberFormat(x.shipPower, 3)
              td= _.numberFormat(x.provincePower, 3)
              td= x.lightShips
              td= _.numberFormat(x.money, 3)
              td= _.numberFormat(x.total, 3)

      h2 Leader Report
      table(class='pure-table pure-table-striped pure-form full-table')
        thead
          tr
            th Commander
            th Battles
            th Wins
            th Forces Commanded
            th Forces Faced
            th Losses
            th Kills
        tbody
          each x in LeaderReport
            tr
              td {{leader.Name}}
              td= x.battles
              td= x.wins
              td= _.numberFormat(x.forces, 0)
              td= _.numberFormat(x.faced, 0)
              td= _.numberFormat(x.losses, 0)
              td= _.numberFormat(x.kills, 0)

      h2 Top 10 Biggest Naval Wars
      p.
        The top ten wars that have the largest number of combined deployed
        forces and losses on sea. Does not include land battles

      table(class='pure-table pure-table-striped sort-table')
        thead
          tr
            th War
            th Attacker
            th Defender
            th Battles
            th Wins
            th Attacking Forces
            th Attacking Losses
            th Defending Forces
            th Defending Losses
        tbody
          each x in BiggestNavalWars
            tr
              td= x.name
              td= x.attacker
              td= x.defender
              td= x.battles
              td= x.attackingWins + ' / ' + x.defendingWins
              td= _.numberFormat(x.attackingForces, 0)
              td= _.numberFormat(x.attackingLosses, 0)
              td= _.numberFormat(x.defendingForces, 0)
              td= _.numberFormat(x.defendingLosses, 0)
      
      h2 Top 10 Biggest Land Wars
      p.
        The top ten wars that have the largest number of combined deployed
        forces and losses on land. Does not include naval battles

      table(class='pure-table pure-table-striped sort-table')
        thead
          tr
            th War
            th Attacker
            th Defender
            th Battles
            th Wins
            th Attacking Forces
            th Attacking Losses
            th Defending Forces
            th Defending Losses
        tbody
          each x in BiggestLandWars
            tr
              td= x.name
              td= x.attacker
              td= x.defender
              td= x.battles
              td= xattackingWins + ' / ' + x.defendingWins
              td= _.numberFormat(x.attackingForces, 0)
              td= _.numberFormat(x.attackingLosses, 0)
              td= _.numberFormat(x.defendingForces, 0)
              td= _.numberFormat(x.defendingLosses, 0)

      h2 Top 10 Biggest Commander Rivalries
      p.
        The same two commanders may find themselves facing each other quite
        often throughout a period of wars. The following table depicts the
        commanders who fought against each other the most

      table(class='pure-table pure-table-striped sort-table')
        thead
          tr
            th Rivalry
            th Battles
            th Wins
            th Forces
            th Losses
        tbody
          each x in BiggestRivalries
            tr
              td= x.description
              td= x.battles
              td= x.wins1 + ' / ' + x.wins2
              td= _.numberFormat(x.forces1, 0) + ' / ' + _.numberFormat(x.forces2, 0)
              td= _.numberFormat(x.losses1, 0) + ' / ' + _.numberFormat(x.losses2, 0)

      h2 Score Rankings
      table(class='pure-table pure-table-striped sort-table')
        thead
          tr
            th Rank
            th Country
            th Score
            th Adm Rating
            th Dip Rating
            th Mil Rating
        tbody
          each x in ScoreStats
            tr
              td= x.rank
              td= x.name
              td= _.numberFormat(x.score, 3)
              td= _.numberFormat(x.adm, 3)
              td= _.numberFormat(x.dip, 3)
              td= _.numberFormat(x.mil, 3)
      
      h2 Debt
      table(class='pure-table pure-table-striped sort-table')
        thead
          tr
            th Country
            th Loans
            th Total
        tbody
          each x in Debt
            tr
              td= x.Item1
              td= x.Item2
              td= _.numberFormat(x.Item3, 0)
      
      h2 Players
      table(class='pure-table pure-table-striped x-table')
        thead
          tr
            th Stat
            each x in PlayerCountries
              th(style='white-space:pre;')
                | x.name
                | x.player
        tbody
          tr
            td Treasury  
            each x in PlayerCountries
              td= x.treasury
          tr
            td Stability  
            each x in PlayerCountries
              td= x.stability
          tr
            td Inflation  
            each x in PlayerCountries
              td= x.inflation
          tr
            td Prestige
            each x in PlayerCountries
              td= x.prestige
          tr
            td Number Of Cities
            each x in PlayerCountries
              td= x.cities
          tr
            td Number Of Colonies
            each x in PlayerCountries
              td= x.colonies
          tr
            td Army Tradition
            each x in PlayerCountries
              td= x.armyTradition
          tr
            td Navy Tradition
            each x in PlayerCountries
              td= x.navyTradition
          tr
            td Mercantilism
            each x in PlayerCountries
              td= x.mercantilism
          tr
            td War Exhasution
            each x in PlayerCountries
              td= x.warExhaustion
          tr
            td Manpower
            each x in PlayerCountries
              td= x.manpower
          tr
            td Max Manpower
            each x in PlayerCountries
              td= x.maxManpower
          tr
            td Government
            each x in PlayerCountries
              td= x.government
          tr
            td Religion
            each x in PlayerCountries
              td= x.religion
      
      h2 Ledger Correlations
      p.
        Every year EU4 marks the year and a value (score, income, inflation,
        size) for each country, so that the player can view a nice chart of
        the data. Ledger correlations shows the correlations between these
        values. For instance, the correlation between size and income means:
        across all countries when the size of the country fluctuates from year
        to year, does that correspond to movement in income. A positive
        correlation means that as the size of a nation increases, so does
        their income -- an intuitive reasoning.

      table(class='pure-table pure-table-striped plain-table')
        thead
          tr
            th Correlation
            th Min
            th Q1
            th Median
            th Q3
            th Max
        tbody
          tr
            td Size and Income
            td= _.numberFormat(LedgerCorrelations.SizeAndIncome.min, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndIncome.q1, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndIncome.median, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndIncome.q3, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndIncome.max, 2)
          tr
            td Size and Score
            td= _.numberFormat(LedgerCorrelations.SizeAndScore.min, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndScore.q1, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndScore.median, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndScore.q3, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndScore.max, 2)
          tr
            td Size and Inflation
            td= _.numberFormat(LedgerCorrelations.SizeAndInflation.min, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndInflation.q1, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndInflation.median, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndInflation.q3, 2)
            td= _.numberFormat(LedgerCorrelations.SizeAndInflation.max, 2)
          tr
            td Income and Score
            td= _.numberFormat(LedgerCorrelations.IncomeAndScore.min, 2)
            td= _.numberFormat(LedgerCorrelations.IncomeAndScore.q1, 2)
            td= _.numberFormat(LedgerCorrelations.IncomeAndScore.median, 2)
            td= _.numberFormat(LedgerCorrelations.IncomeAndScore.q3, 2)
            td= _.numberFormat(LedgerCorrelations.IncomeAndScore.max, 2)
          tr
            td Income and Inflation
            td= _.numberFormat(LedgerCorrelations.IncomeAndInflation.min, 2)
            td= _.numberFormat(LedgerCorrelations.IncomeAndInflation.q1, 2)
            td= _.numberFormat(LedgerCorrelations.IncomeAndInflation.median, 2)
            td= _.numberFormat(LedgerCorrelations.IncomeAndInflation.q3, 2)
            td= _.numberFormat(LedgerCorrelations.IncomeAndInflation.max, 2)
          tr
            td Score and Inflation
            td= _.numberFormat(LedgerCorrelations.ScoreAndInflation.min, 2)
            td= _.numberFormat(LedgerCorrelations.ScoreAndInflation.q1, 2)
            td= _.numberFormat(LedgerCorrelations.ScoreAndInflation.median, 2)
            td= _.numberFormat(LedgerCorrelations.ScoreAndInflation.q3, 2)
            td= _.numberFormat(LedgerCorrelations.ScoreAndInflation.max, 2)
    
    script(src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js")
    script(src='//cdn.jsdelivr.net/jquery.datatables/1.10.0/js/jquery.dataTables.min.js')
    script(src='//cdn.jsdelivr.net/jquery.datatables/1.10.0/plugins/tabletools/js/dataTables.tableTools.min.js')
    script(src='//cdn.jsdelivr.net/jquery.datatables/1.10.1/plugins/fixedcolumns/js/dataTables.fixedColumns.min.js')
    script(type='text/javascript' src='/js/games.js')